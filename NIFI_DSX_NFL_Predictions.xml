<?xml version="1.0" ?>
<template encoding-version="1.1">
  <description></description>
  <groupId>5917264c-015f-1000-ffff-ffff8478a663</groupId>
  <name>NIFI_DSX_NFL_Predictions</name>
  <snippet>
    <connections>
      <id>8011406c-e5ea-36e2-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <bends>
        <x>457.3101053972162</x>
        <y>596.7513392766789</y>
      </bends>
      <bends>
        <x>457.3101053972162</x>
        <y>646.7513392766789</y>
      </bends>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0186954e-c8b4-3ba2-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>failure</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0186954e-c8b4-3ba2-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>c4e70a4b-0894-3c64-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>926074a6-e5ce-3ca6-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>success</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>93036d47-2a68-3881-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>dbbff86a-8e40-3acf-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0a9f7401-46bb-3a26-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>success</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>926074a6-e5ce-3ca6-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>e049c6d0-3234-3ec6-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0186954e-c8b4-3ba2-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>success</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0a9f7401-46bb-3a26-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>fc15c410-6458-3a78-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <bends>
        <x>455.91640006661106</x>
        <y>223.57932984938566</y>
      </bends>
      <bends>
        <x>455.91640006661106</x>
        <y>273.57932984938566</y>
      </bends>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>926074a6-e5ce-3ca6-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>failure</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>926074a6-e5ce-3ca6-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>383bff7c-c963-3b6b-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>6bf5ac1e-b5c0-34de-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>success</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>0186954e-c8b4-3ba2-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>4f85e2c6-5c16-3b37-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <bends>
        <x>460.2093955638539</x>
        <y>791.6475294708775</y>
      </bends>
      <bends>
        <x>460.2093955638539</x>
        <y>841.6475294708775</y>
      </bends>
      <destination>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>6bf5ac1e-b5c0-34de-0000-000000000000</id>
        <type>PROCESSOR</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>failure</selectedRelationships>
      <source>
        <groupId>fa5f10c5-f8a9-3b88-0000-000000000000</groupId>
        <id>6bf5ac1e-b5c0-34de-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <processors>
      <id>926074a6-e5ce-3ca6-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <position>
        <x>0.9164000666110041</x>
        <y>183.57932984938572</y>
      </position>
      <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>Script Engine</key>
            <value>
              <name>Script Engine</name>
            </value>
          </entry>
          <entry>
            <key>Script File</key>
            <value>
              <name>Script File</name>
            </value>
          </entry>
          <entry>
            <key>Script Body</key>
            <value>
              <name>Script Body</name>
            </value>
          </entry>
          <entry>
            <key>Module Directory</key>
            <value>
              <name>Module Directory</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>Script Engine</key>
            <value>python</value>
          </entry>
          <entry>
            <key>Script File</key>
          </entry>
          <entry>
            <key>Script Body</key>
            <value>
from org.apache.commons.io import IOUtils
from java.nio.charset import StandardCharsets
from org.apache.nifi.processor.io import StreamCallback

import re,sys
import json
import datetime,time
import random

class PyStreamCallback(StreamCallback):
  def __init__(self): pass
  def process(self, instream, outstream):
    
    # To read content as a string:
    data = IOUtils.toString(instream, StandardCharsets.UTF_8)
    
    output = {}
    
    datetimestamp = datetime.datetime.now()
    
    output['down'] = str(random.randint(1,3))
    output['qtr']  = str(random.randint(1,4))
    output['month_day'] = str(int(str(random.randint(9,12)) + str(random.randint(1,30))))
    output['playtype_lag_index'] = random.choice(['Run','Pass','First Play'])
    output['timesecs']  = str(random.randint(1,3600))
    output['ydsnet']  = str(random.randint(0,80))
    output['ydstogo']  = str(random.randint(1,15))
    output['yrdline100']  = str(random.randint(1,90))
    
    # Generate CSV output based on "output", which is in JSON
    output_csv = ','.join([ output['down'], output['qtr'], output['month_day'], output['playtype_lag_index'], output['timesecs'], output['ydsnet'], output['ydstogo'], output['yrdline100'] ])
    
    # Write modified content
    outstream.write(str(output_csv))


flowfile = session.get()


if (flowfile != None):
    
    time.sleep(1)
    
    # Read FlowFile Attribute
    # myVar = flowfile.getAttribute('filename')
    
    # Write variable/values to FlowFile Attributes
    #flowFile = session.putAttribute(flowFile, "from_python_string", "python string example")
    #flowFile = session.putAttribute(flowFile, "from_python_number", str(new_value))
    
    # Write data to FlowFile
    flowfile = session.write(flowfile, PyStreamCallback())
    session.transfer(flowfile, REL_SUCCESS)


#ZEND</value>
          </entry>
          <entry>
            <key>Module Directory</key>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>Simulate Data</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
      </relationships>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.script.ExecuteScript</type>
    </processors>
    <processors>
      <id>93036d47-2a68-3881-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <position>
        <x>0.0</x>
        <y>0.0</y>
      </position>
      <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>File Size</key>
            <value>
              <name>File Size</name>
            </value>
          </entry>
          <entry>
            <key>Batch Size</key>
            <value>
              <name>Batch Size</name>
            </value>
          </entry>
          <entry>
            <key>Data Format</key>
            <value>
              <name>Data Format</name>
            </value>
          </entry>
          <entry>
            <key>Unique FlowFiles</key>
            <value>
              <name>Unique FlowFiles</name>
            </value>
          </entry>
          <entry>
            <key>generate-ff-custom-text</key>
            <value>
              <name>generate-ff-custom-text</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>File Size</key>
            <value>0B</value>
          </entry>
          <entry>
            <key>Batch Size</key>
            <value>1</value>
          </entry>
          <entry>
            <key>Data Format</key>
            <value>Text</value>
          </entry>
          <entry>
            <key>Unique FlowFiles</key>
            <value>false</value>
          </entry>
          <entry>
            <key>generate-ff-custom-text</key>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>2 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>GenerateFlowFile</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
    </processors>
    <processors>
      <id>0186954e-c8b4-3ba2-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <position>
        <x>2.310105397216148</x>
        <y>556.7513392766789</y>
      </position>
      <bundle>
        <artifact>nifi-scripting-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>Script Engine</key>
            <value>
              <name>Script Engine</name>
            </value>
          </entry>
          <entry>
            <key>Script File</key>
            <value>
              <name>Script File</name>
            </value>
          </entry>
          <entry>
            <key>Script Body</key>
            <value>
              <name>Script Body</name>
            </value>
          </entry>
          <entry>
            <key>Module Directory</key>
            <value>
              <name>Module Directory</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>Script Engine</key>
            <value>python</value>
          </entry>
          <entry>
            <key>Script File</key>
          </entry>
          <entry>
            <key>Script Body</key>
            <value>
import traceback
from java.nio.charset import StandardCharsets
from org.apache.commons.io import IOUtils
from org.apache.nifi.processor.io import InputStreamCallback, OutputStreamCallback
from org.python.core.util import StringUtil

import subprocess, os
import re,sys
import json
import datetime,time
import random


class WriteCallback(OutputStreamCallback):
    def __init__(self):
        self.content = None
        self.charset = StandardCharsets.UTF_8
    
    def process(self, outputStream):
        bytes = bytearray(self.content.encode('utf-8'))
        outputStream.write(bytes)


class SplitCallback(InputStreamCallback):
  def __init__(self):
    self.parentFlowFile = None
  
  def process(self, inputStream):
    
    splitFlowFile = session.create(self.parentFlowFile)
    writeCallback = WriteCallback()
    
    # To read content as a string:
    data = IOUtils.toString(inputStream, StandardCharsets.UTF_8)
    vars = data.split(',')
    
    down = vars[0]
    qtr = vars[1]
    month_day = vars[2]
    playtype_lag_index = vars[3]
    timesecs = vars[4]
    ydsnet = vars[5]
    ydstogo = vars[6]
    yrdline100 = vars[7]
    
    accessToken = splitFlowFile.getAttribute('accessToken')
    
    curl_input = ['curl', '-i', '-k', '-X', 'POST', 'https://172.26.228.121/v2/scoring/online/32b1d108-369d-42ce-966b-48d0a20a6b38', '-d', '{"fields":["down","qtr","month_day","PlayType_lag_index","TimeSecs","ydsnet","ydstogo","yrdline100"],"records":[[' + str(down) + ',' + str(qtr) + ',' + str(month_day) + ',"' + str(playtype_lag_index) + '",' + str(timesecs) + ',' + str(ydsnet) + ',' + str(ydstogo) + ',' + str(yrdline100) + ']]}', '-H', 'content-type:application/json', '-H', str('authorization: Bearer ' + str(accessToken))]
    
    result = subprocess.Popen(curl_input, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    
    out, err = result.communicate()
    
    prediction_results       = json.loads(out.split('\r\n')[-1])['records'][0]
    predictions_yards_gained = str(prediction_results[-1])
    
    #predictions_csv = str(predictions[0][0]) + ',' + str(predictions[0][1]) + ',' + str(predictions[1]) + ',' + str(predictions[2])
    payload = ','.join([str(record) for i,record in enumerate(prediction_results) if i != 8])
    writeCallback.content = payload
    splitFlowFile = session.write(splitFlowFile, writeCallback)
    splitFlowFile = session.putAllAttributes(splitFlowFile, {
            'predictions_yards_gained': predictions_yards_gained
        })
    
    session.transfer(splitFlowFile, REL_SUCCESS)
    
    # Write modified content
    #outstream.write(str(output))


parentFlowFile = session.get()
if parentFlowFile != None:
    splitCallback = SplitCallback()
    splitCallback.parentFlowFile = parentFlowFile
    session.read(parentFlowFile, splitCallback)
    session.remove(parentFlowFile)


#ZEND</value>
          </entry>
          <entry>
            <key>Module Directory</key>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>ExecuteScript</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
      </relationships>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.script.ExecuteScript</type>
    </processors>
    <processors>
      <id>0a9f7401-46bb-3a26-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <position>
        <x>2.310178529308814</x>
        <y>375.40286754384374</y>
      </position>
      <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>Delete Attributes Expression</key>
            <value>
              <name>Delete Attributes Expression</name>
            </value>
          </entry>
          <entry>
            <key>Store State</key>
            <value>
              <name>Store State</name>
            </value>
          </entry>
          <entry>
            <key>Stateful Variables Initial Value</key>
            <value>
              <name>Stateful Variables Initial Value</name>
            </value>
          </entry>
          <entry>
            <key>accessToken</key>
            <value>
              <name>accessToken</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>Delete Attributes Expression</key>
          </entry>
          <entry>
            <key>Store State</key>
            <value>Do not store state</value>
          </entry>
          <entry>
            <key>Stateful Variables Initial Value</key>
          </entry>
          <entry>
            <key>accessToken</key>
            <value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImR6YXJhdHNpYW4iLCJyb2xlIjoiVXNlciIsInN1YiI6ImR6YXJhdHNpYW4iLCJpc3MiOiJLTk9YU1NPIiwiYXVkIjoiRFNYIiwidWlkIjoiMTAwNyIsImlhdCI6MTUwOTAyNjM1OCwiZXhwIjoxNTA5MDczMTU4fQ.UcEzDzaALpKCzb9PFY4D2_2vlxjyQHrr-RmwZWDSa7yDWfWFX7nswhoti9MC43NbiFPAPnkjSVKgqRu0t7QaXKqwL8700dWTyp1XUM0n6xUEpJ0RSQY0nPSB6N7i0TnT88FL-ajBONUrXonGxJa7JxYH8Y8444fNvXqKA0NhZPeFIfMQ0e3H5xqmew2dAP9QFfH8CydgDbrL_7gTOzz4sa_pHNEuyv8SFsmmtVK2u76df7M7S1wxhFfXI3iOplRdRVZeXFrpOzYSUelGCjeKudgwso3zxCgYztwMNzyebYkZDz758Fqt1LTH8ceKgJECv6D1sWMUVJSHt8npGKresA</value>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>UpdateAttribute</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
    </processors>
    <processors>
      <id>6bf5ac1e-b5c0-34de-0000-000000000000</id>
      <parentGroupId>fa5f10c5-f8a9-3b88-0000-000000000000</parentGroupId>
      <position>
        <x>5.209395563853832</x>
        <y>751.6475294708775</y>
      </position>
      <bundle>
        <artifact>nifi-kafka-0-10-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>bootstrap.servers</key>
            <value>
              <name>bootstrap.servers</name>
            </value>
          </entry>
          <entry>
            <key>topic</key>
            <value>
              <name>topic</name>
            </value>
          </entry>
          <entry>
            <key>record-reader</key>
            <value>
              <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
              <name>record-reader</name>
            </value>
          </entry>
          <entry>
            <key>record-writer</key>
            <value>
              <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
              <name>record-writer</name>
            </value>
          </entry>
          <entry>
            <key>security.protocol</key>
            <value>
              <name>security.protocol</name>
            </value>
          </entry>
          <entry>
            <key>sasl.kerberos.service.name</key>
            <value>
              <name>sasl.kerberos.service.name</name>
            </value>
          </entry>
          <entry>
            <key>sasl.kerberos.principal</key>
            <value>
              <name>sasl.kerberos.principal</name>
            </value>
          </entry>
          <entry>
            <key>sasl.kerberos.keytab</key>
            <value>
              <name>sasl.kerberos.keytab</name>
            </value>
          </entry>
          <entry>
            <key>ssl.context.service</key>
            <value>
              <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
              <name>ssl.context.service</name>
            </value>
          </entry>
          <entry>
            <key>acks</key>
            <value>
              <name>acks</name>
            </value>
          </entry>
          <entry>
            <key>message-key-field</key>
            <value>
              <name>message-key-field</name>
            </value>
          </entry>
          <entry>
            <key>max.request.size</key>
            <value>
              <name>max.request.size</name>
            </value>
          </entry>
          <entry>
            <key>ack.wait.time</key>
            <value>
              <name>ack.wait.time</name>
            </value>
          </entry>
          <entry>
            <key>max.block.ms</key>
            <value>
              <name>max.block.ms</name>
            </value>
          </entry>
          <entry>
            <key>partitioner.class</key>
            <value>
              <name>partitioner.class</name>
            </value>
          </entry>
          <entry>
            <key>compression.type</key>
            <value>
              <name>compression.type</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>bootstrap.servers</key>
            <value>localhost:9092</value>
          </entry>
          <entry>
            <key>topic</key>
          </entry>
          <entry>
            <key>record-reader</key>
          </entry>
          <entry>
            <key>record-writer</key>
          </entry>
          <entry>
            <key>security.protocol</key>
            <value>PLAINTEXT</value>
          </entry>
          <entry>
            <key>sasl.kerberos.service.name</key>
          </entry>
          <entry>
            <key>sasl.kerberos.principal</key>
          </entry>
          <entry>
            <key>sasl.kerberos.keytab</key>
          </entry>
          <entry>
            <key>ssl.context.service</key>
          </entry>
          <entry>
            <key>acks</key>
            <value>0</value>
          </entry>
          <entry>
            <key>message-key-field</key>
          </entry>
          <entry>
            <key>max.request.size</key>
            <value>1 MB</value>
          </entry>
          <entry>
            <key>ack.wait.time</key>
            <value>5 secs</value>
          </entry>
          <entry>
            <key>max.block.ms</key>
            <value>5 sec</value>
          </entry>
          <entry>
            <key>partitioner.class</key>
            <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
          </entry>
          <entry>
            <key>compression.type</key>
            <value>none</value>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>PublishKafkaRecord_0_10</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
      </relationships>
      <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.kafka.pubsub.PublishKafkaRecord_0_10</type>
    </processors>
  </snippet>
  <timestamp>10/26/2017 14:31:22 UTC</timestamp>
</template>